<cilia xmlns:cilia="fr.liglab.adele.cilia">

	<!-- ******************* Processors ****************-->

	<processor name="UC1AggregatorProcessor" namespace="fr.examples.tp5"
		classname="fr.liglab.adele.cilia.demo.components.UC1AggregatorProcessor">
	</processor>

	<processor name="FacturationMobileProcessor" namespace="fr.examples.tp5"
		classname="fr.liglab.adele.cilia.demo.components.FacturationMobileProcessor">
		<properties>
			<property name="service" field="service" service="true"/>
		</properties>
		<cilia:method data.type="fr.liglab.adele.cilia.Data" />
	</processor>

	<processor name="FacturationInternetProcessor" namespace="fr.examples.tp5"
		classname="fr.liglab.adele.cilia.demo.components.FacturationInternetProcessor">
		<properties>
			<property name="service" field="service" service="true"/>
		</properties>
		<cilia:method data.type="fr.liglab.adele.cilia.Data" />
	</processor>

	<processor name="FacturationFixeProcessor" namespace="fr.examples.tp5"
		classname="fr.liglab.adele.cilia.demo.components.FacturationFixeProcessor">
		<properties>
			<property name="service" field="service" service="true"/>
		</properties>
		<cilia:method data.type="fr.liglab.adele.cilia.Data" />
	</processor>

	<!-- ***************** Mediators **********************-->
	<mediator-component name="UC1Aggregator" namespace="fr.examples.tp5"
		category="Aggregator">
		<ports>
			<in-port name="mobile" type="XML" />
			<in-port name="internet" type="XML" />
			<in-port name="fixe" type="XML" />
			<out-port name="unique" type="XML" />
		</ports>
		<cilia:processor name="UC1AggregatorProcessor" namespace="fr.examples.tp5"/>
		<cilia:scheduler name="correlation-scheduler" />
		<cilia:dispatcher name="multicast-dispatcher" />
	</mediator-component>

	<mediator-component name="FacturationMobile"
		namespace="fr.examples.tp5" category="invoker">
		<ports>
			<in-port name="unique" type="XML" />
			<out-port name="unique" type="XML" />
		</ports>
		<cilia:processor name="FacturationMobileProcessor" namespace="fr.examples.tp5"/>
		<cilia:scheduler name="immediate-scheduler" />
		<cilia:dispatcher name="multicast-dispatcher" />
	</mediator-component>

	<mediator-component name="FacturationInternet"
		namespace="fr.examples.tp5" category="invoker">
		<ports>
			<in-port name="unique" type="XML" />
			<out-port name="unique" type="XML" />
		</ports>
		<cilia:processor name="FacturationInternetProcessor" namespace="fr.examples.tp5"/>
		<cilia:scheduler name="immediate-scheduler" />
		<cilia:dispatcher name="multicast-dispatcher" />
	</mediator-component>

	<mediator-component name="FacturationFixe"
		namespace="fr.examples.tp5" category="invoker">
		<ports>
			<in-port name="unique" type="XML" />
			<out-port name="unique" type="XML" />
		</ports>
		<cilia:processor name="FacturationFixeProcessor" namespace="fr.examples.tp5"/>
		<cilia:scheduler name="immediate-scheduler" />
		<cilia:dispatcher name="multicast-dispatcher" />
	</mediator-component>

	<mediator-component name="XsltTransformer"
		namespace="fr.examples.tp5" >
		<ports>
			<in-port name="unique" type="XML" />
			<out-port name="unique" type="XML" />
		</ports>
		<cilia:processor name="XsltTransformerProcessor" />
		<cilia:scheduler name="immediate-scheduler" />
		<cilia:dispatcher name="multicast-dispatcher" />
	</mediator-component>

	<mediator-component name="XmlSplitter"
		namespace="fr.examples.tp5" >
		<ports>
			<in-port name="unique" type="XML" />
			<out-port name="mobile" type="XML" />
			<out-port name="internet" type="XML" />
			<out-port name="fixe" type="XML" />
		</ports>
		<cilia:processor name="XmlSplitterProcessor" />
		<cilia:scheduler name="immediate-scheduler" />
		<cilia:dispatcher name="content-based-dispatcher" />
	</mediator-component>

	<mediator-component name="Translator" namespace="fr.liglab.adele.cilia"
		category="Translator" architecture="true">
		<ports>
			<in-port name="unique" type="XML" />
			<out-port name="unique" type="XML" />
		</ports>
		<cilia:processor name="SemanticTranslatorProcessor"
			namespace="fr.liglab.adele.cilia" />
		<cilia:scheduler name="immediate-scheduler" namespace="fr.liglab.adele.cilia" />
		<cilia:dispatcher name="multicast-dispatcher"
			namespace="fr.liglab.adele.cilia" />
	</mediator-component>

</cilia>


