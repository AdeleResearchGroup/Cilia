
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at Dec 31, 2013
 Rendered using Reflow Maven Skin 1.0.1-SNAPSHOT (http://andriusvelykis.github.com/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Cilia Application DSL | iCasa</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.2.2/spacelab/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/bootswatch.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />
		
		<link href="http://yandex.st/highlightjs/7.3/styles/default.min.css" rel="stylesheet" />
		
		<link href="./css/lightbox.css" rel="stylesheet" />
		
		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
<link rel="stylesheet" type="text/css" href="./css/site.css"/>
<link rel="stylesheet" type="text/css" href="./css/font-awesome.css"/>
<script type="text/javascript">var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-35847694-2']);
                _gaq.push(['_trackPageview']);

                (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();</script>
<script type="text/javascript">$(document).ready(function () {
                $("pre code").parent().addClass("prettyprint");
                prettyPrint();
                });</script>
<link rel="shortcut icon" href="favicon.png"/>
	</head>

	<body class="page-dslcilia project-cilia-parent-reactor" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="http://github.com/AdeleResearchGroup/Cilia">Cilia on github</a>
					<div class="nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Cilia <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="index.html" title="Home">Home </a></li>
									<li><a href="overview.html" title="Overview">Overview </a></li>
									<li><a href="download.html" title="Download">Download </a></li>
									<li><a href="components.html" title="Available components">Available components </a></li>
								</ul>
							</li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="quickstart.html" title="Quick start">Quick start </a></li>
									<li class="dropdown-submenu">
										<a href="dslCilia.html#" title="DSL Reference">DSL Reference </a>
										<ul class="dropdown-menu">
											<li><a href="dslComponent.html" title="Component Type specification">Component Type specification </a></li>
											<li class="active"><a href="" title="Chain description">Chain description </a></li>
											<li><a href="cfgCilia.html" title="Chain configuration">Chain configuration </a></li>
										</ul>
									</li>
									<li><a href="rest-api.html" title="REST API">REST API </a></li>
									<li><a href="gogo-commands.html" title="Gogo commands">Gogo commands </a></li>
									<li><a href="apidocs/index.html" title="Javadoc">Javadoc </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Advanced tutorials <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="linker.html" title="Creating a new Linker">Creating a new Linker </a></li>
									<li><a href="adapter.html" title="Creating new adapter">Creating new adapter </a></li>
									<li><a href="monitor.html" title="Using monitoring capabilities">Using monitoring capabilities </a></li>
									<li><a href="extendDSL.html" title="Extending the DSL Language">Extending the DSL Language </a></li>
									<li class="dropdown-submenu">
										<a href="dslCilia.html#" title="Runtime Manipulation">Runtime Manipulation </a>
										<ul class="dropdown-menu">
											<li><a href="builder.html" title="Cilia Admin Builder Pattern">Cilia Admin Builder Pattern </a></li>
											<li><a href="ciliaAdmin.html" title="Cilia Admin Service">Cilia Admin Service </a></li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>
		
	<div class="container">
	
	<!-- Masthead
	================================================== -->
	<header class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="dslCilia.html#" id="bannerLeft"><img src="cilia-small.png" alt='"'Cilia - A service mediation framework for dynamic applications'"' /></a>
					<p class="lead">A service mediation framework for dynamic applications</p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
		<hr class="toc-separator" />
		<div id="toc-bar" class="navbar">
			<div class="navbar-inner">
				<div id="toc-scroll-target" class="container">
					<ul id="toc" class="nav">
						<li class="toplevel"><a href="#Cilia_Application_DSL" title="Cilia Application DSL">Cilia Application DSL</a></li>
						<li class="divider-vertical"></li>
						<li class="toplevel"><a href="#XML_Description" title="XML Description">XML Description</a></li>
						<li class="divider-vertical"></li>
						<li class="dropdown">
							<a href="#Mediators_instances" title="Mediators instances" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#">Mediators instances <b class="caret"></b></a>
							<ul class="dropdown-menu" role="menu">
								<!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
								<li><a href="#Mediators_instances" title="Mediators instances">Mediators instances</a></li>
								<li class="divider"></li>
								<li><a href="#Mediator_Properties" title="Mediator Properties">Mediator Properties</a></li>
								<li><a href="#Mediator_Map_properties" title="Mediator Map properties">Mediator Map properties</a></li>
								<li><a href="#Mediator_Instance_Example" title="Mediator Instance Example">Mediator Instance Example</a></li>

							</ul>
						</li>
						<li class="divider-vertical"></li>
						<li class="toplevel"><a href="#Adapter_instances" title="Adapter instances">Adapter instances</a></li>
						<li class="divider-vertical"></li>
						<li class="dropdown">
							<a href="#Bindings" title="Bindings" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#">Bindings <b class="caret"></b></a>
							<ul class="dropdown-menu" role="menu">
								<!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
								<li><a href="#Bindings" title="Bindings">Bindings</a></li>
								<li class="divider"></li>
								<li><a href="#Bindings_and_linkers" title="Bindings and linkers">Bindings and linkers</a></li>

							</ul>
						</li>
						<li class="divider-vertical"></li>
						<li class="toplevel"><a href="#Mediation_chain_example" title="Mediation chain example">Mediation chain example</a></li>
						<li class="divider-vertical"></li>
						<li class="toplevel"><a href="#Mediation_chain_-_hot_deployment" title="Mediation chain - hot deployment">Mediation chain - hot deployment</a></li>
					</ul>
				</div>
			</div>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="section"> 
 <div class="page-header">
  <h2 id="Cilia_Application_DSL">Cilia Application DSL</h2>
 </div> 
 <p>The Cilia DSL allows to define a mediation chain, its mediator/adapter instances and the bindings between them.</p> 
</div> 
<div class="section"> 
 <h2 id="XML_Description">XML Description</h2> 
 <p>The Cilia XML root element must be <b><i>cilia</i></b>. And it could only have as child <b><i>chain</i></b> elements.</p> 
 <table class="bodyTable table table-striped table-hover" cellpadding="10" cellspacing="0" border="1"> 
  <thead> 
   <tr class="a"> 
    <th>ELEMENT </th> 
    <th>OPTIONAL </th> 
    <th>DESCRIPTION </th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr class="b"> 
    <td>cilia </td> 
    <td>No </td> 
    <td> It's the root node. </td> 
   </tr> 
   <tr class="a"> 
    <td>cilia/chain </td> 
    <td>No </td> 
    <td>Each chain is defined in this chain node. </td> 
   </tr> 
  </tbody> 
 </table> 
 <div class="source"> 
  <pre>&lt;cilia&gt;
   &lt;chain ...&gt;
     &lt;!-- --&gt;
   &lt;/chain&gt;

   &lt;chain ...&gt;
     &lt;!-- --&gt;
   &lt;/chain&gt;
&lt;/cilia&gt;
</pre> 
 </div> 
 <p>Each mediation chain (<b><i>chain</i></b> XML Element) could have a chain type and an unique identifier.</p> 
 <table class="bodyTable table table-striped table-hover" cellpadding="10" cellspacing="0" border="1"> 
  <thead> 
   <tr class="a"> 
    <th>ATTRIBUTE </th> 
    <th>OPTIONAL </th> 
    <th>DESCRIPTION </th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr class="b"> 
    <td>id </td> 
    <td>No </td> 
    <td> Chain unique identification. </td> 
   </tr> 
   <tr class="a"> 
    <td>type </td> 
    <td>No </td> 
    <td>Chain type. </td> 
   </tr> 
  </tbody> 
 </table> 
 <div class="source"> 
  <pre>&lt;cilia&gt;
    &lt;chain id=&quot;MyChainId&quot; type=&quot;MyChainType&quot;&gt;
        &lt;!-- --&gt;
    &lt;/chain&gt;
&lt;/cilia&gt;
</pre> 
 </div> 
 <p>Mediator instances, adapter instances, and bindings are declared separately in three different groups. There is an XML element for each group:</p> 
 <table class="bodyTable table table-striped table-hover" cellpadding="10" cellspacing="0" border="1"> 
  <thead> 
   <tr class="a"> 
    <th>ELEMENT </th> 
    <th>OPTIONAL </th> 
    <th>DESCRIPTION </th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr class="b"> 
    <td>mediators </td> 
    <td>Yes </td> 
    <td>It contains all the mediator instances configurations used in each chain. </td> 
   </tr> 
   <tr class="a"> 
    <td>adapters </td> 
    <td>Yes </td> 
    <td>It contains all the adapters instances configurations used in each chain. </td> 
   </tr> 
   <tr class="b"> 
    <td>bindings </td> 
    <td>Yes </td> 
    <td>It contains all the bindings in the chain. </td> 
   </tr> 
  </tbody> 
 </table> 
 <div class="source"> 
  <pre>&lt;chain&gt;
   &lt;mediators&gt;..&lt;/mediators&gt;
   &lt;adapters&gt;..&lt;/adapters&gt;
   &lt;bindings&gt;...&lt;/bindings&gt;
&lt;/chain&gt;
</pre> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Mediators_instances">Mediators instances</h2> 
 <p>Mediator instances are defined in the *<b>mediators</b> XML element. Each mediator instance (*<b>mediator-instance</b>) is followed by its mediator type and an instance identifier.</p> 
 <div class="section"> 
  <h3 id="Mediator_Properties">Mediator Properties</h3> 
  <p>When declaring mediator instances, it is possible to (re)configure some mediator properties. We say, mediator properties are all the properties declared for each of the mediator constituent (scheduler, processor, dispatcher). So, in order to differentiate them is used the XML Element <b><i>scheduler</i></b>, <b><i>processor</i></b> or <b><i>dispatcher</i></b>.</p> 
  <table class="bodyTable table table-striped table-hover" cellpadding="10" cellspacing="0" border="1"> 
   <thead> 
    <tr class="a"> 
     <th>ELEMENT </th> 
     <th>OPTIONAL </th> 
     <th>DESCRIPTION </th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr class="b"> 
     <td>processor </td> 
     <td>Yes </td> 
     <td>To (re)configure the processor properties. </td> 
    </tr> 
    <tr class="a"> 
     <td>scheduler </td> 
     <td>Yes </td> 
     <td>To (re)configure the scheduler properties. </td> 
    </tr> 
    <tr class="b"> 
     <td>dispatcher </td> 
     <td>Yes </td> 
     <td>To (re)configure the dispatcher properties. </td> 
    </tr> 
   </tbody> 
  </table> 
  <p>To declare the property (re)configuration is used the <b><i>property</i></b> XML element. The information need for each property is followed by the next attributes:</p> 
  <table class="bodyTable table table-striped table-hover" cellpadding="10" cellspacing="0" border="1"> 
   <thead> 
    <tr class="a"> 
     <th>ATTRIBUTE </th> 
     <th>OPTIONAL </th> 
     <th>DESCRIPTION </th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr class="b"> 
     <td>name </td> 
     <td>No </td> 
     <td>The property name. </td> 
    </tr> 
    <tr class="a"> 
     <td>value </td> 
     <td>No </td> 
     <td>The property value. </td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
 <div class="section"> 
  <h3 id="Mediator_Map_properties">Mediator Map properties</h3> 
  <p>Mediator properties could be in the form of primitives type, but also they could be Maps (java.util.Map) Map properties values are declared as follow:</p> 
  <div class="source"> 
   <pre>&lt;chain id=&quot;chainId&quot; type=&quot;chainType&quot;&gt;
    &lt;mediators&gt;
      &lt;mediator-instance id=&quot;mediatorId&quot; type=&quot;MyMediatorType&quot;&gt;
        &lt;processor&gt;
           &lt;property name=&quot;MapProperty&quot;&gt;
              &lt;item key=&quot;keyValue&quot; value=&quot;itemValue&quot;/&gt;
              &lt;item key=&quot;otherKeyValue&quot; value=&quot;otherItemValue&quot;/&gt;
           &lt;/property&gt;
        &lt;/processor&gt;
      &lt;/mediator-instance&gt;
    &lt;/mediators&gt;
&lt;/chain&gt;
</pre> 
  </div> 
  <p>These properties could be used by all the mediators constituents, such as scheduler, processor and dispatcher.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Mediator_Instance_Example">Mediator Instance Example</h3> 
  <div class="source"> 
   <pre>&lt;chain id=&quot;chainId&quot; type=&quot;chainType&quot;&gt;
    &lt;mediators&gt;
      &lt;mediator-instance id=&quot;mediatorId&quot; type=&quot;MyMediatorType&quot;&gt;
        &lt;ports&gt;
          &lt;in-port name=&quot;entry-port&quot; /&gt;
          &lt;out-port name=&quot;exit-port&quot; /&gt;
        &lt;/ports&gt;
        &lt;processor&gt;
           &lt;property name=&quot;propertyName&quot; value=&quot;propertyValue&quot;/&gt;
        &lt;/processor&gt;
        &lt;scheduler&gt;
           &lt;property name=&quot;schedPropertyName&quot; value=&quot;propertyValue&quot;/&gt;
        &lt;/scheduler&gt;
        &lt;dispatcher&gt;
           &lt;property name=&quot;dispPropertyName&quot; value=&quot;propertyValue&quot;/&gt;
        &lt;/dispatcher&gt;
      &lt;/mediator-instance&gt;
    &lt;/mediators&gt;
&lt;/chain&gt;
</pre> 
  </div> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Adapter_instances">Adapter instances</h2> 
 <p>Adapter instances are defined in the *<b>adapters</b> XML element. Each adapter instance(*<b>adapter-instance</b>) is followed by its adapter type and an instance identifier.</p> 
 <p>Similar to the mediator instances, adapters could have properties. These properties are handled as the mediator properties, since adapters are also a special mediator type.</p> 
</div> 
<div class="section"> 
 <h2 id="Bindings">Bindings</h2> 
 <p>Each binding in a mediation chain is declared in the <b><i>bindings</i></b> section.</p> 
 <div class="source"> 
  <pre>&lt;chain id=&quot;chainId&quot; type=&quot;chainType&quot;&gt;
    &lt;mediators&gt;
      &lt;!-- mediator instances --&gt;
    &lt;/mediators&gt;
    &lt;adapters&gt;
      &lt;!-- mediator instances --&gt;
    &lt;/adapters&gt;
    &lt;bindings&gt;
       &lt;binding from=&quot;mediatorId1:exitPoint1&quot; to=&quot;mediatorId2:inPoint1&quot; /&gt;
    &lt;/bindings&gt;
&lt;/chain&gt;
</pre> 
 </div> 
 <table class="bodyTable table table-striped table-hover" cellpadding="10" cellspacing="0" border="1"> 
  <thead> 
   <tr class="a"> 
    <th>NAME </th> 
    <th>OPTIONAL </th> 
    <th>DESCRIPTION </th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr class="b"> 
    <td>binding </td> 
    <td>No </td> 
    <td> Binding declaration </td> 
   </tr> 
   <tr class="a"> 
    <td>binding from </td> 
    <td>Yes </td> 
    <td>Describes which mediator is the one who sends the data, and which port is used by this binding. </td> 
   </tr> 
   <tr class="b"> 
    <td>binding to </td> 
    <td>Yes </td> 
    <td>Describes which mediator is the one who receives the data, and which port is used by this binding. </td> 
   </tr> 
   <tr class="a"> 
    <td>binding type </td> 
    <td>Yes </td> 
    <td>Describes the type of the binding between mediators, event-admin-binding is the default one. </td> 
   </tr> 
  </tbody> 
 </table> 
 <div class="section"> 
  <h3 id="Bindings_and_linkers">Bindings and linkers</h3> 
  <p>Bindings use predefined linkers, but there is possible to change the linker to use by adding a <b>linker</b> attribute to the binding declaration.</p> 
  <div class="source"> 
   <pre>    &lt;bindings&gt;
       &lt;binding from=&quot;mediatorId1:std&quot; to=&quot;mediatorId2:std&quot; linker=&quot;ea-binding&quot;/&gt;
    &lt;/bindings&gt;
</pre> 
  </div> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Mediation_chain_example">Mediation chain example</h2> 
 <div class="source"> 
  <pre>&lt;cilia&gt;
    &lt;chain id=&quot;MyChainId&quot; type=&quot;MyChainType&quot;&gt;
       &lt;mediators&gt;
          &lt;mediator-instance type=&quot;myMediator&quot; id=&quot;mediatorId1&quot;/&gt;
          &lt;mediator-instance type=&quot;myMediator2&quot; id=&quot;mediatorId2&quot;/&gt;
       &lt;/mediators&gt;
       &lt;bindings&gt;
          &lt;binding from=&quot;mediator1:std&quot; to=&quot;mediatorId2:std&quot; &gt;
       &lt;/bindings&gt;
    &lt;/chain&gt;
&lt;/cilia&gt;
</pre> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Mediation_chain_-_hot_deployment">Mediation chain - hot deployment</h2> 
 <p>To deploy a mediation chain at runtime using the dscilia language, the bundle cilia-deployer must be installed and started on the OSGi platform.</p> 
 <p>Mediation chains must be in a file with the file extension <b>.dscilia</b>. This file must be placed based on the chameleon configuration to load on-the-fly new artifacts or configuration files. In cilia-distributions, the directory is <b><i>applications</i></b></p> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->
	
	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span9 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Cilia</li>
						<li>
							<a href="index.html" title="Home">Home </a>
						</li>
						<li>
							<a href="overview.html" title="Overview">Overview </a>
						</li>
						<li>
							<a href="download.html" title="Download">Download </a>
						</li>
						<li>
							<a href="components.html" title="Available components">Available components </a>
						</li>
						<li class="nav-header">Documentation</li>
						<li>
							<a href="quickstart.html" title="Quick start">Quick start </a>
						</li>
						<li>
							<a href="dslCilia.html#" title="DSL Reference">DSL Reference <i class="icon-chevron-down"></i></a>
							<ul class="nav nav-list">
						<li>
							<a href="dslComponent.html" title="Component Type specification">Component Type specification </a>
						</li>
						<li class="active">
							<a href="#" title="Chain description">Chain description </a>
						</li>
						<li>
							<a href="cfgCilia.html" title="Chain configuration">Chain configuration </a>
						</li>
							</ul>
						</li>
						<li>
							<a href="rest-api.html" title="REST API">REST API </a>
						</li>
						<li>
							<a href="gogo-commands.html" title="Gogo commands">Gogo commands </a>
						</li>
						<li>
							<a href="apidocs/index.html" title="Javadoc">Javadoc </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote>A service mediation framework for dynamic applications.</blockquote>
				</div>
			</div>
		</div>
	</footer>
		
	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2012-2013 <a href="http://adele.imag.fr">Adele Team | LIG</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 1.7.4-SNAPSHOT. </span><span class="publishDate">Last Published: 2013-12-31. </span></p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->

	<!-- Fallback jQuery loading from Google CDN:
	     http://stackoverflow.com/questions/1014203/best-way-to-use-googles-hosted-jquery-but-fall-back-to-my-hosted-library-on-go -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script type="text/javascript">
		if (typeof jQuery == 'undefined')
		{
			document.write(unescape("%3Cscript src='./js/jquery-1.8.3.min.js' type='text/javascript'%3E%3C/script%3E"));
		}
	</script>
	
	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.js"></script>
	<script src="./js/jquery.smooth-scroll.min.js"></script>
	<!-- back button support for smooth scroll -->
	<script src="./js/jquery.ba-bbq.min.js"></script>
	<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>
	
	</body>
</html>
